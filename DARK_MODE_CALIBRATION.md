# Dark Mode Calibration - Default Dark Modern

## Summary

Dark mode is now calibrated to VS Code's official **"Default Dark Modern"** theme. This ensures dark themes generated by the AI maintain professional, proven colors optimized for low-light environments.

## Dark Mode Reference Colors

### Core Editor Colors
- **editor.background**: `#1F1F1F` (dark gray)
- **editor.foreground**: `#CCCCCC` (light gray)
- **editorLineNumber.foreground**: `#6E7681` (muted gray)

### UI Bars & Containers
- **activityBar.background**: `#181818` (very dark)
- **activityBar.foreground**: `#D7D7D7` (light gray)
- **sideBar.background**: `#181818` (very dark)
- **sideBar.foreground**: `#CCCCCC` (light gray)
- **sideBarTitle.foreground**: `#CCCCCC` (light gray)
- **sideBarSectionHeader.background**: `#181818` (very dark)
- **sideBarSectionHeader.foreground**: `#CCCCCC` (light gray)

### Title & Status Bars
- **titleBar.activeBackground**: `#181818` (very dark)
- **titleBar.activeForeground**: `#CCCCCC` (light gray)
- **statusBar.background**: `#181818` (very dark)
- **statusBar.foreground**: `#CCCCCC` (light gray)

### Tabs (Editor Tabs)
- **tab.activeBackground**: `#1F1F1F` (dark gray)
- **tab.activeForeground**: `#FFFFFF` (white)
- **tab.selectedBorderTop**: `#6caddf` (light blue)
- **tab.inactiveBackground**: `#181818` (very dark)
- **tab.inactiveForeground**: `#9D9D9D` (muted gray)

### Terminal
- **terminal.background**: `#1F1F1F` (dark gray)
- **terminal.foreground**: `#CCCCCC` (light gray)
- **terminal.tab.activeBorder**: `#0078D4` (blue accent)

### Panels
- **panelTitle.activeForeground**: `#CCCCCC` (light gray)
- **panelTitle.inactiveForeground**: `#9D9D9D` (muted gray)
- **panelSectionHeader.background**: `#181818` (very dark)
- **panelSectionHeader.foreground**: `#CCCCCC` (light gray)
- **panel.background**: `#181818` (very dark)
- **panel.border**: `#2B2B2B` (very dark gray)

### Interactive Elements
- **button.background**: `#0078D4` (blue accent)
- **button.foreground**: `#FFFFFF` (white)
- **button.hoverBackground**: `#026EC1` (darker blue)
- **input.background**: `#313131` (dark gray)
- **input.foreground**: `#CCCCCC` (light gray)
- **input.border**: `#3C3C3C` (very dark gray)
- **input.placeholderForeground**: `#989898` (muted gray)

### Selection & Lists
- **list.activeSelectionBackground**: `#0078D4` (blue accent)
- **list.activeSelectionForeground**: `#FFFFFF` (white)
- **list.hoverBackground**: `#1F1F1F` (dark gray, subtle)

### Scrollbars
- **scrollbarSlider.background**: `#4E4E4E` (medium gray)
- **scrollbarSlider.hoverBackground**: `#5E5E5E` (lighter gray)

### Focus & Accents
- **focusBorder**: `#0078D4` (blue accent)

### Gutter (Line Changes)
- **editorGutter.addedBackground**: `#2EA043` (green)
- **editorGutter.modifiedBackground**: `#0078D4` (blue)
- **editorGutter.deletedBackground**: `#F85149` (red)

### Notifications & Popups
- **notificationCenterHeader.background**: `#1F1F1F` (dark gray)
- **notifications.background**: `#1F1F1F` (dark gray)
- **notifications.border**: `#2B2B2B` (very dark gray)

### Misc UI
- **widget.border**: `#313131` (dark gray)

## Dark Mode Token Colors

Syntax highlighting colors from Default Dark Modern:

- **comments**: `#6A737D` (muted gray) - low contrast for secondary info
- **strings**: `#A5D6FF` (light blue) - bright and distinct
- **keywords**: `#FF7B72` (light red) - prominent language keywords
- **numbers**: `#79C0FF` (bright blue) - numeric literals
- **types**: `#F0883E` (orange) - class/type names
- **functions**: `#D2A8FF` (light purple) - function/method names
- **variables**: `#CCCCCC` (light gray) - standard text

## Design Philosophy

### High Contrast for Low Light
- Very dark backgrounds (#1F1F1F, #181818) reduce eye strain
- Light gray text (#CCCCCC) provides crisp readability
- Bright accents (#0078D4 blue, #FF7B72 red, #F0883E orange) stand out

### Consistent Gray Scale
Three tiers of darkness for visual hierarchy:
1. **#181818** - Very dark (UI containers, inactive elements)
2. **#1F1F1F** - Dark gray (editor, tabs, panels)
3. **#313131** - Lighter dark (inputs, dropdowns, interactive)

### Saturated Accent Colors
- **Blue**: #0078D4 - Primary accent for focus, buttons, selection
- **Red**: #FF7B72 - Keywords, errors, danger states
- **Orange**: #F0883E - Types, constants, special emphasis
- **Purple**: #D2A8FF - Functions, uniqueness
- **Green**: #2EA043 - Added lines, success states
- **Light Blue**: #A5D6FF - Strings, readability

## How AI Uses This Reference

When user selects **"Dark"** mode:

1. Extension sends description + "dark" mode to OpenAI
2. System prompt includes `DARK_THEME_REFERENCE`
3. AI generates colors respecting dark mode guidelines:
   - Uses similar shade palette (#181818, #1F1F1F, #313131)
   - Includes saturated accents in token colors
   - Maintains high contrast (light text on dark)
4. Results are professional, coherent dark themes

## Example Dark Theme

```json
{
  "workbench": {
    "editor.background": "#1F1F1F",
    "editor.foreground": "#CCCCCC",
    "editorLineNumber.foreground": "#6E7681",
    "activityBar.background": "#181818",
    "activityBar.foreground": "#D7D7D7",
    "sideBar.background": "#181818",
    "sideBar.foreground": "#CCCCCC",
    "titleBar.activeBackground": "#181818",
    "statusBar.background": "#181818",
    "tab.activeBackground": "#1F1F1F",
    "tab.activeForeground": "#FFFFFF",
    "terminal.background": "#1F1F1F",
    "terminal.foreground": "#CCCCCC",
    "button.background": "#0078D4",
    "button.foreground": "#FFFFFF",
    "input.background": "#313131",
    "input.foreground": "#CCCCCC",
    "list.activeSelectionBackground": "#0078D4"
  },
  "tokenColors": {
    "comments": "#6A737D",
    "strings": "#A5D6FF",
    "keywords": "#FF7B72",
    "numbers": "#79C0FF",
    "types": "#F0883E",
    "functions": "#D2A8FF",
    "variables": "#CCCCCC"
  }
}
```

## Comparison: Dark Modes

### Before
- Generic dark guidelines
- Less specific color references
- Potential for inconsistency

### After
- Calibrated to Default Dark Modern
- 40+ specific color references
- Professional, proven colors
- Maintains VS Code aesthetic

## Files Updated

- **src/aiThemeService.ts**
  - Added `DARK_THEME_REFERENCE` constant
  - Updated `THEME_SYSTEM_PROMPT` with dark mode guidance
  - Expanded workbench color list (added 15+ new color keys)
  - Added dark token color examples

## Verification

The test script shows dark mode examples:

```bash
node test-theme-output.js
```

Output includes:
- ✓ Dark mode uses Default Dark Modern as reference
- ✓ Complete color palette for all UI elements
- ✓ Professional, proven token colors
- ✓ High contrast for low-light environments

## Compilation

✅ **No TypeScript errors**
✅ **Backward compatible** (medium mode unchanged)
✅ **Ready for testing**

---

**Status**: ✅ Complete  
**Based on**: VS Code "Default Dark Modern" theme  
**Color entries**: 40+  
**Token colors**: 7  
**Accent colors**: 6 (blue, red, orange, purple, green, light blue)
